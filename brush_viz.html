<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Brush con Escala de Color</title>
  <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
  <div>
    <svg id="brush1" width="400" height="300" style="background:lightgrey; margin-right:10px;"></svg>
    <svg id="brush2" width="400" height="300" style="background:lightgrey;"></svg>
  </div>

  <script>
    const data = [{"A":94,"B":137,"C":153},{"A":80,"B":181,"C":195},{"A":147,"B":176,"C":191},{"A":68,"B":205,"C":205},{"A":102,"B":205,"C":205},{"A":87,"B":155,"C":153},{"A":83,"B":207,"C":205},{"A":66,"B":204,"C":188},{"A":83,"B":146,"C":165},{"A":111,"B":172,"C":205},{"A":143,"B":190,"C":184},{"A":80,"B":190,"C":148},{"A":10,"B":200,"C":241},{"A":143,"B":163,"C":151},{"A":130,"B":151,"C":167},{"A":55,"B":155,"C":188},{"A":150,"B":207,"C":216},{"A":93,"B":146,"C":127},{"A":91,"B":183,"C":193},{"A":81,"B":195,"C":214},{"A":111,"B":163,"C":136},{"A":78,"B":172,"C":191},{"A":106,"B":144,"C":146},{"A":98,"B":205,"C":226},{"A":59,"B":169,"C":167},{"A":37,"B":209,"C":216},{"A":48,"B":239,"C":231},{"A":139,"B":178,"C":193},{"A":160,"B":129,"C":125},{"A":145,"B":158,"C":157},{"A":70,"B":212,"C":220},{"A":130,"B":95,"C":125},{"A":74,"B":225,"C":233},{"A":119,"B":242,"C":233},{"A":130,"B":122,"C":161},{"A":121,"B":111,"C":132},{"A":128,"B":169,"C":151},{"A":171,"B":158,"C":155},{"A":220,"B":163,"C":129},{"A":109,"B":163,"C":172},{"A":143,"B":197,"C":182},{"A":117,"B":157,"C":176},{"A":190,"B":157,"C":153},{"A":164,"B":139,"C":138},{"A":121,"B":221,"C":191},{"A":102,"B":169,"C":195},{"A":160,"B":139,"C":214},{"A":81,"B":262,"C":195},{"A":169,"B":118,"C":94},{"A":193,"B":109,"C":79},{"A":160,"B":178,"C":134},{"A":177,"B":139,"C":138},{"A":147,"B":169,"C":186},{"A":143,"B":172,"C":163},{"A":193,"B":148,"C":119},{"A":180,"B":123,"C":125},{"A":154,"B":183,"C":165},{"A":108,"B":190,"C":199},{"A":128,"B":214,"C":228},{"A":139,"B":195,"C":199},{"A":121,"B":183,"C":129},{"A":85,"B":249,"C":256},{"A":83,"B":137,"C":155},{"A":124,"B":157,"C":172},{"A":143,"B":198,"C":191},{"A":218,"B":193,"C":184},{"A":150,"B":178,"C":163},{"A":152,"B":186,"C":184},{"A":83,"B":263,"C":205},{"A":126,"B":148,"C":134},{"A":74,"B":179,"C":163},{"A":115,"B":181,"C":155},{"A":94,"B":163,"C":127},{"A":173,"B":113,"C":90},{"A":122,"B":144,"C":169},{"A":156,"B":163,"C":125},{"A":139,"B":163,"C":169},{"A":259,"B":174,"C":123},{"A":83,"B":186,"C":205},{"A":72,"B":193,"C":233},{"A":108,"B":253,"C":260},{"A":108,"B":209,"C":151},{"A":93,"B":146,"C":155},{"A":152,"B":184,"C":191},{"A":192,"B":202,"C":178},{"A":156,"B":170,"C":191},{"A":89,"B":143,"C":132},{"A":68,"B":176,"C":167},{"A":87,"B":176,"C":184},{"A":96,"B":163,"C":153},{"A":121,"B":207,"C":193},{"A":111,"B":165,"C":167},{"A":126,"B":157,"C":117},{"A":78,"B":198,"C":146},{"A":33,"B":225,"C":247},{"A":141,"B":183,"C":151},{"A":134,"B":157,"C":108},{"A":76,"B":155,"C":195},{"A":70,"B":170,"C":163},{"A":119,"B":172,"C":226},{"A":184,"B":209,"C":188},{"A":111,"B":172,"C":184},{"A":205,"B":160,"C":144},{"A":119,"B":163,"C":163},{"A":147,"B":22,"C":79},{"A":173,"B":123,"C":96},{"A":197,"B":205,"C":195},{"A":117,"B":172,"C":182},{"A":186,"B":157,"C":85},{"A":139,"B":118,"C":115},{"A":231,"B":181,"C":108},{"A":81,"B":211,"C":172},{"A":193,"B":109,"C":85},{"A":128,"B":237,"C":210},{"A":109,"B":218,"C":205},{"A":139,"B":178,"C":172},{"A":132,"B":181,"C":148},{"A":93,"B":218,"C":201},{"A":139,"B":169,"C":144},{"A":113,"B":127,"C":125},{"A":109,"B":181,"C":186},{"A":78,"B":193,"C":176},{"A":109,"B":181,"C":157},{"A":85,"B":242,"C":252},{"A":173,"B":151,"C":153},{"A":156,"B":184,"C":172},{"A":85,"B":218,"C":182},{"A":139,"B":202,"C":157},{"A":143,"B":214,"C":210},{"A":70,"B":218,"C":201},{"A":124,"B":151,"C":167},{"A":152,"B":130,"C":148},{"A":124,"B":190,"C":167},{"A":169,"B":163,"C":182},{"A":128,"B":130,"C":119},{"A":121,"B":218,"C":243},{"A":177,"B":169,"C":157},{"A":160,"B":202,"C":186},{"A":132,"B":139,"C":68},{"A":128,"B":85,"C":108},{"A":81,"B":172,"C":172},{"A":152,"B":190,"C":224},{"A":109,"B":169,"C":157},{"A":128,"B":157,"C":201},{"A":70,"B":214,"C":258},{"A":169,"B":151,"C":153},{"A":147,"B":184,"C":167},{"A":173,"B":151,"C":153},{"A":231,"B":144,"C":138},{"A":139,"B":151,"C":134},{"A":128,"B":127,"C":163},{"A":173,"B":139,"C":104},{"A":169,"B":157,"C":129},{"A":160,"B":202,"C":186},{"A":193,"B":169,"C":167},{"A":152,"B":135,"C":148},{"A":143,"B":160,"C":129},{"A":143,"B":123,"C":104},{"A":78,"B":214,"C":224},{"A":128,"B":169,"C":182},{"A":117,"B":218,"C":220},{"A":48,"B":221,"C":239},{"A":93,"B":221,"C":220},{"A":128,"B":127,"C":129},{"A":128,"B":193,"C":153},{"A":52,"B":246,"C":247},{"A":152,"B":290,"C":220},{"A":156,"B":184,"C":163},{"A":106,"B":211,"C":214},{"A":132,"B":190,"C":167},{"A":152,"B":172,"C":210},{"A":106,"B":157,"C":157},{"A":106,"B":151,"C":163},{"A":139,"B":184,"C":129},{"A":98,"B":181,"C":262},{"A":81,"B":221,"C":191},{"A":102,"B":230,"C":186},{"A":124,"B":221,"C":191},{"A":124,"B":114,"C":235},{"A":106,"B":148,"C":191},{"A":206,"B":135,"C":157},{"A":143,"B":181,"C":228},{"A":147,"B":144,"C":163},{"A":89,"B":230,"C":205},{"A":55,"B":190,"C":191},{"A":109,"B":202,"C":239},{"A":132,"B":184,"C":195},{"A":124,"B":160,"C":167},{"A":109,"B":202,"C":182},{"A":52,"B":202,"C":201},{"A":109,"B":226,"C":224},{"A":126,"B":204,"C":167},{"A":117,"B":193,"C":201},{"A":93,"B":197,"C":201},{"A":117,"B":181,"C":201},{"A":186,"B":202,"C":205},{"A":113,"B":169,"C":191},{"A":136,"B":172,"C":233},{"A":124,"B":202,"C":220},{"A":132,"B":184,"C":182},{"A":117,"B":151,"C":163},{"A":124,"B":226,"C":224},{"A":128,"B":169,"C":163},{"A":85,"B":160,"C":220},{"A":136,"B":169,"C":205},{"A":102,"B":123,"C":134},{"A":143,"B":178,"C":134},{"A":152,"B":169,"C":182},{"A":152,"B":178,"C":129},{"A":139,"B":205,"C":224},{"A":128,"B":151,"C":172},{"A":102,"B":197,"C":210},{"A":102,"B":197,"C":214},{"A":177,"B":109,"C":129},{"A":78,"B":193,"C":239},{"A":121,"B":190,"C":191},{"A":143,"B":169,"C":195},{"A":143,"B":211,"C":167},{"A":109,"B":157,"C":167},{"A":109,"B":230,"C":228},{"A":169,"B":197,"C":191},{"A":66,"B":102,"C":125},{"A":132,"B":109,"C":94},{"A":109,"B":184,"C":195},{"A":93,"B":157,"C":195},{"A":186,"B":157,"C":167},{"A":203,"B":106,"C":134},{"A":128,"B":102,"C":108},{"A":132,"B":109,"C":134},{"A":169,"B":157,"C":157},{"A":132,"B":178,"C":205},{"A":164,"B":151,"C":205},{"A":117,"B":148,"C":153},{"A":160,"B":148,"C":157},{"A":147,"B":144,"C":163},{"A":169,"B":130,"C":182},{"A":169,"B":144,"C":157},{"A":117,"B":144,"C":144},{"A":89,"B":151,"C":176},{"A":139,"B":193,"C":195},{"A":164,"B":94,"C":119},{"A":132,"B":127,"C":163},{"A":117,"B":160,"C":153},{"A":78,"B":246,"C":290},{"A":113,"B":172,"C":186},{"A":93,"B":169,"C":210},{"A":121,"B":181,"C":195},{"A":193,"B":120,"C":148},{"A":210,"B":144,"C":142},{"A":246,"B":135,"C":125},{"A":212,"B":170,"C":159},{"A":233,"B":176,"C":142},{"A":205,"B":172,"C":163},{"A":233,"B":146,"C":104},{"A":197,"B":211,"C":188},{"A":190,"B":190,"C":176},{"A":175,"B":186,"C":188},{"A":193,"B":181,"C":167},{"A":223,"B":130,"C":153},{"A":158,"B":207,"C":157},{"A":261,"B":120,"C":58},{"A":242,"B":146,"C":155},{"A":231,"B":134,"C":163},{"A":220,"B":162,"C":111},{"A":167,"B":179,"C":224},{"A":287,"B":130,"C":121},{"A":193,"B":207,"C":203},{"A":218,"B":163,"C":142},{"A":186,"B":200,"C":178},{"A":205,"B":170,"C":138},{"A":100,"B":239,"C":222},{"A":195,"B":193,"C":228},{"A":221,"B":176,"C":169},{"A":165,"B":163,"C":205},{"A":156,"B":183,"C":146},{"A":139,"B":200,"C":224},{"A":242,"B":137,"C":117},{"A":251,"B":144,"C":123},{"A":231,"B":170,"C":163},{"A":165,"B":202,"C":199},{"A":212,"B":176,"C":163},{"A":246,"B":143,"C":119},{"A":210,"B":69,"C":85},{"A":154,"B":235,"C":216},{"A":233,"B":108,"C":111},{"A":223,"B":172,"C":138},{"A":227,"B":144,"C":167},{"A":193,"B":160,"C":163},{"A":193,"B":184,"C":138},{"A":244,"B":172,"C":138},{"A":274,"B":118,"C":75},{"A":220,"B":157,"C":119},{"A":274,"B":193,"C":163},{"A":223,"B":123,"C":138},{"A":261,"B":160,"C":119},{"A":220,"B":184,"C":148},{"A":244,"B":157,"C":153},{"A":197,"B":178,"C":148},{"A":264,"B":184,"C":167},{"A":261,"B":160,"C":167},{"A":253,"B":94,"C":54},{"A":248,"B":169,"C":176},{"A":231,"B":144,"C":167},{"A":264,"B":202,"C":172},{"A":190,"B":148,"C":186},{"A":180,"B":214,"C":167},{"A":143,"B":193,"C":182},{"A":169,"B":163,"C":144},{"A":160,"B":193,"C":220},{"A":242,"B":155,"C":184},{"A":136,"B":190,"C":233},{"A":156,"B":214,"C":210},{"A":206,"B":178,"C":163},{"A":231,"B":132,"C":102},{"A":182,"B":207,"C":237},{"A":206,"B":190,"C":199},{"A":206,"B":153,"C":161},{"A":246,"B":144,"C":117},{"A":212,"B":163,"C":121},{"A":206,"B":162,"C":142},{"A":206,"B":144,"C":172},{"A":206,"B":211,"C":218},{"A":223,"B":183,"C":163},{"A":220,"B":211,"C":146},{"A":240,"B":174,"C":121},{"A":171,"B":158,"C":193},{"A":216,"B":141,"C":167},{"A":175,"B":106,"C":214},{"A":214,"B":137,"C":136},{"A":195,"B":162,"C":146},{"A":150,"B":32,"C":172},{"A":253,"B":139,"C":132},{"A":173,"B":94,"C":184},{"A":287,"B":113,"C":108},{"A":251,"B":130,"C":104},{"A":210,"B":176,"C":184},{"A":214,"B":155,"C":155},{"A":257,"B":172,"C":142},{"A":190,"B":183,"C":136},{"A":229,"B":129,"C":174},{"A":262,"B":108,"C":111},{"A":238,"B":104,"C":56},{"A":203,"B":108,"C":87},{"A":192,"B":141,"C":138},{"A":190,"B":174,"C":121},{"A":162,"B":111,"C":169},{"A":201,"B":109,"C":108},{"A":221,"B":151,"C":142},{"A":238,"B":122,"C":184},{"A":227,"B":167,"C":98},{"A":242,"B":130,"C":174},{"A":190,"B":205,"C":144},{"A":229,"B":155,"C":117},{"A":158,"B":204,"C":153},{"A":171,"B":143,"C":153},{"A":188,"B":190,"C":182},{"A":192,"B":120,"C":129},{"A":182,"B":135,"C":125},{"A":149,"B":225,"C":243},{"A":229,"B":178,"C":113},{"A":229,"B":135,"C":106},{"A":223,"B":165,"C":100},{"A":242,"B":120,"C":62},{"A":205,"B":153,"C":172},{"A":210,"B":94,"C":111},{"A":283,"B":141,"C":43},{"A":246,"B":38,"C":142},{"A":242,"B":97,"C":100},{"A":173,"B":157,"C":151},{"A":283,"B":48,"C":83},{"A":210,"B":85,"C":138},{"A":171,"B":146,"C":117},{"A":216,"B":118,"C":138},{"A":261,"B":169,"C":113},{"A":182,"B":163,"C":121},{"A":240,"B":92,"C":134},{"A":223,"B":123,"C":87},{"A":225,"B":122,"C":83},{"A":242,"B":157,"C":123},{"A":238,"B":109,"C":117},{"A":244,"B":141,"C":90},{"A":223,"B":174,"C":142},{"A":216,"B":167,"C":117},{"A":233,"B":167,"C":136},{"A":259,"B":10,"C":62},{"A":203,"B":120,"C":106},{"A":238,"B":137,"C":129},{"A":195,"B":137,"C":108},{"A":218,"B":118,"C":142},{"A":201,"B":137,"C":90},{"A":193,"B":167,"C":125},{"A":268,"B":108,"C":77},{"A":251,"B":193,"C":161},{"A":223,"B":157,"C":151},{"A":234,"B":155,"C":100},{"A":227,"B":178,"C":125},{"A":180,"B":178,"C":172},{"A":264,"B":184,"C":182},{"A":206,"B":226,"C":201},{"A":244,"B":172,"C":186},{"A":240,"B":178,"C":115},{"A":197,"B":211,"C":210},{"A":206,"B":163,"C":144},{"A":223,"B":172,"C":129},{"A":281,"B":148,"C":167},{"A":180,"B":237,"C":277},{"A":193,"B":219,"C":239},{"A":210,"B":172,"C":157},{"A":169,"B":123,"C":153},{"A":190,"B":172,"C":163},{"A":186,"B":237,"C":182},{"A":173,"B":214,"C":148},{"A":203,"B":157,"C":176},{"A":227,"B":211,"C":195},{"A":177,"B":214,"C":228},{"A":177,"B":221,"C":228},{"A":223,"B":211,"C":182},{"A":261,"B":144,"C":119},{"A":180,"B":148,"C":191},{"A":173,"B":265,"C":201},{"A":206,"B":190,"C":195},{"A":227,"B":148,"C":144},{"A":210,"B":190,"C":163},{"A":210,"B":172,"C":144},{"A":193,"B":230,"C":195},{"A":240,"B":97,"C":144},{"A":236,"B":90,"C":85},{"A":177,"B":148,"C":205},{"A":190,"B":197,"C":167},{"A":240,"B":130,"C":119},{"A":290,"B":211,"C":201},{"A":164,"B":230,"C":201},{"A":180,"B":221,"C":239},{"A":281,"B":48,"C":90},{"A":186,"B":178,"C":144},{"A":190,"B":242,"C":201},{"A":257,"B":193,"C":144},{"A":193,"B":230,"C":233},{"A":236,"B":127,"C":148},{"A":244,"B":160,"C":167},{"A":197,"B":242,"C":220},{"A":220,"B":226,"C":220},{"A":169,"B":190,"C":186},{"A":223,"B":214,"C":182},{"A":274,"B":135,"C":119},{"A":197,"B":197,"C":176},{"A":248,"B":197,"C":153},{"A":173,"B":172,"C":220},{"A":220,"B":178,"C":148},{"A":193,"B":169,"C":144},{"A":244,"B":139,"C":100},{"A":248,"B":114,"C":163},{"A":261,"B":151,"C":167},{"A":190,"B":181,"C":195},{"A":240,"B":169,"C":134},{"A":164,"B":205,"C":224},{"A":240,"B":205,"C":233},{"A":203,"B":193,"C":163},{"A":227,"B":197,"C":138},{"A":236,"B":151,"C":157},{"A":193,"B":151,"C":144},{"A":227,"B":190,"C":134},{"A":223,"B":193,"C":195},{"A":231,"B":178,"C":79},{"A":203,"B":169,"C":157},{"A":231,"B":211,"C":182},{"A":240,"B":197,"C":186},{"A":227,"B":151,"C":129},{"A":197,"B":197,"C":157},{"A":169,"B":181,"C":205},{"A":197,"B":190,"C":182},{"A":193,"B":178,"C":108},{"A":240,"B":148,"C":104},{"A":186,"B":265,"C":285},{"A":210,"B":123,"C":104},{"A":231,"B":205,"C":195},{"A":231,"B":221,"C":201},{"A":231,"B":160,"C":157},{"A":190,"B":190,"C":172},{"A":132,"B":184,"C":104},{"A":261,"B":135,"C":108},{"A":244,"B":230,"C":157},{"A":227,"B":233,"C":176},{"A":214,"B":163,"C":138},{"A":281,"B":151,"C":94},{"A":206,"B":181,"C":153},{"A":227,"B":197,"C":163},{"A":160,"B":178,"C":125},{"A":214,"B":178,"C":115},{"A":227,"B":160,"C":90},{"A":253,"B":202,"C":157},{"A":214,"B":148,"C":138},{"A":177,"B":130,"C":157},{"A":236,"B":127,"C":90},{"A":220,"B":184,"C":75},{"A":244,"B":184,"C":182},{"A":173,"B":202,"C":163},{"A":193,"B":123,"C":100},{"A":248,"B":197,"C":195},{"A":190,"B":202,"C":148},{"A":152,"B":163,"C":153},{"A":214,"B":202,"C":205},{"A":186,"B":214,"C":182},{"A":236,"B":184,"C":129},{"A":248,"B":118,"C":10},{"A":177,"B":190,"C":182},{"A":231,"B":190,"C":100}]; // ← aquí van todos tus datos completos

    const width = 400, height = 300;

    const xExtent = d3.extent(data, d => +d.A);
    const yExtent = d3.extent(data, d => +d.B);

    const xScale = d3.scaleLinear().domain(xExtent).range([10, width - 10]);
    const yScale = d3.scaleLinear().domain(yExtent).range([10, height - 10]);

    function makeBrush() {
      const svg1 = d3.select("#brush1");
      const svg2 = d3.select("#brush2");

      const sc1 = d3.scaleLinear().domain([0, 30, 80]).range(["yellow", "orange", "red"]);
      const sc2 = d3.scaleLinear().domain([0, 30, 80]).range(["yellow", "cyan", "blue"]);

      const cs1 = drawCircles(svg1, data, d => xScale(+d.A), d => yScale(+d.B), sc1);
      const cs2 = drawCircles(svg2, data, d => xScale(+d.A), d => yScale(+d.C), sc2);

      svg1.call(installHandlers, data, cs1, cs2, sc1, sc2);
    }

    function drawCircles(svg, data, accX, accY, sc) {
      return svg.selectAll("circle")
        .data(data)
        .enter()
        .append("circle")
        .attr("r", 5)
        .attr("cx", accX)
        .attr("cy", accY)
        .attr("fill", sc(Infinity))
        .attr("fill-opacity", 0.5);
    }

    function installHandlers(svg, data, cs1, cs2, sc1, sc2) {
      svg.attr("cursor", "crosshair")
        .on("mousemove", function(event) {
          const pt = d3.pointer(event);
          cs1.attr("fill", function(d, i) {
            const r = Math.hypot(pt[0] - +d3.select(this).attr("cx"),
                                 pt[1] - +d3.select(this).attr("cy"));
            data[i].r = r;
            return sc1(r);
          });
          cs2.attr("fill", (d, i) => sc2(data[i].r));
        })
        .on("mouseleave", function() {
          cs1.attr("fill", sc1(Infinity));
          cs2.attr("fill", sc2(Infinity));
        });
    }

    makeBrush();
  </script>
</body>
</html>  